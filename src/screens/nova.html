<section class="card">
  <h2 class="section-title">Nova transação</h2>

  <!-- Tipo -->
  <div class="grid" style="grid-template-columns:repeat(2,minmax(0,1fr));gap:8px">
    <label class="btn" style="display:flex;align-items:center;gap:8px">
      <input type="radio" name="tx-type" value="INCOME" checked />
      <span>Receita</span>
    </label>
    <label class="btn" style="display:flex;align-items:center;gap:8px">
      <input type="radio" name="tx-type" value="EXPENSE" />
      <span>Despesa</span>
    </label>
    <label class="btn" style="display:flex;align-items:center;gap:8px">
      <input type="radio" name="tx-type" value="SAVINGS" />
      <span>Poupança</span>
    </label>
    <label class="btn" style="display:flex;align-items:center;gap:8px">
      <input type="radio" name="tx-type" value="TRANSFER" />
      <span>Transferência</span>
    </label>
  </div>

  <!-- Data + Valor -->
  <div class="grid" style="grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
    <label>Data
      <input id="tx-date" type="date" />
    </label>
    <label>Valor
      <input id="tx-amount" type="number" step="0.01" inputmode="decimal" placeholder="0,00" />
    </label>
  </div>

  <!-- Conta (uma) -->
  <div id="row-account-single" class="grid" style="grid-template-columns:1fr;gap:10px;margin-top:10px">
    <label>Conta
      <select id="tx-account"></select>
    </label>
  </div>

  <!-- Contas (transfer) -->
  <div id="row-account-transfer" class="grid hidden" style="grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
    <label>De
      <select id="tx-account-from"></select>
    </label>
    <label>Para
      <select id="tx-account-to"></select>
    </label>
  </div>

  <!-- Categoria -->
  <div id="row-category" style="margin-top:10px">
    <label>
      <select id="tx-category"></select>
    </label>

    <!-- Bloco só para DESPESA -->
    <div id="exp-cat-wrap" class="hidden" style="margin-top:8px">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <label>Categoria (principal)
          <select id="cat-parent"></select>
        </label>
        <label>Subcategoria
          <select id="cat-child"></select>
        </label>
      </div>
      <input type="hidden" id="tx-category-exp" />
    </div>
  </div>

  <!-- Natureza (apenas Despesa) -->
  <div id="row-nature" class="grid hidden" style="grid-template-columns:1fr;gap:10px;margin-top:10px">
    <label>Natureza da despesa</label>
    <div class="grid" style="grid-template-columns:1fr 1fr;gap:8px">
      <label class="btn" style="display:flex;align-items:center;gap:8px">
        <input type="radio" name="tx-nature" value="fixed" />
        <span>Fixas (habituais)</span>
      </label>
      <label class="btn" style="display:flex;align-items:center;gap:8px">
        <input type="radio" name="tx-nature" value="variable" />
        <span>Variáveis (ocasionais)</span>
      </label>
    </div>
  </div>

  <!-- Regularidade / Método / Estado -->
  <div class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin-top:10px">
    <label>Regularidade
      <select id="tx-regularity"></select>
    </label>
        <label>Descrição
      <input id="tx-desc" type="text" placeholder="ex.: Supermercado, Ordenado, ..." />
    </label>
  </div>

  <!-- Descrição / Localização / Notas 
  <div class="grid" style="grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
    <label>Descrição
      <input id="tx-desc" type="text" placeholder="ex.: Supermercado, Ordenado, ..." />
    </label>
  </div>-->
  <label style="margin-top:10px">Notas
    <textarea id="tx-notes" rows="3" placeholder="opcional"></textarea>
  </label>

  <div id="tx-msg" class="card" style="margin-top:10px;display:none"></div>
  <div style="display:flex;gap:10px;margin-top:12px">
    <button id="tx-save" class="btn btn--primary">Guardar</button>
    <button id="tx-clear" class="btn">Limpar</button>
  </div>
</section>